# Render configuration for Toomoobil static site
services:
  - type: web
    name: toomoobil
    runtime: static
    buildCommand: echo "No build needed for static site"
    staticPublishPath: .
    routes:
      # App Store redirects
      - type: redirect
        source: /ios
        destination: https://apps.apple.com/us/app/toomoobil/id6742456650
        status: 302

      - type: redirect
        source: /app-store
        destination: https://apps.apple.com/us/app/toomoobil/id6742456650
        status: 302

      - type: redirect
        source: /apple
        destination: https://apps.apple.com/us/app/toomoobil/id6742456650
        status: 302

      # Google Play Store redirects
      - type: redirect
        source: /android
        destination: https://play.google.com/store/apps/details?id=ma.app.toomoobil
        status: 302

      - type: redirect
        source: /play-store
        destination: https://play.google.com/store/apps/details?id=ma.app.toomoobil
        status: 302

      - type: redirect
        source: /google
        destination: https://play.google.com/store/apps/details?id=ma.app.toomoobil
        status: 302

      # Social media redirects
      - type: redirect
        source: /instagram
        destination: https://www.instagram.com/toomoobil.ma
        status: 302

      - type: redirect
        source: /insta
        destination: https://www.instagram.com/toomoobil.ma
        status: 302

      # Contact redirects
      - type: redirect
        source: /whatsapp
        destination: https://wa.me/212627960596
        status: 302

      # App download redirects
      - type: redirect
        source: /app
        destination: /
        status: 302

      - type: redirect
        source: /download
        destination: /
        status: 302

      - type: redirect
        source: /telecharger
        destination: /
        status: 302

      # Legacy redirects
      - type: redirect
        source: /home
        destination: /
        status: 301

      - type: redirect
        source: /accueil
        destination: /
        status: 301

      - type: redirect
        source: /index
        destination: /
        status: 301

    headers:
      - path: /*
        name: X-Content-Type-Options
        value: nosniff

      - path: /*
        name: X-Frame-Options
        value: DENY

      - path: /*
        name: X-XSS-Protection
        value: "1; mode=block"

      - path: /*
        name: Referrer-Policy
        value: strict-origin-when-cross-origin

      # Cache static assets
      - path: /assets/*
        name: Cache-Control
        value: public, max-age=31536000, immutable

      - path: "*.css"
        name: Cache-Control
        value: public, max-age=31536000, immutable

      - path: "*.js"
        name: Cache-Control
        value: public, max-age=31536000, immutable

      - path: "*.png"
        name: Cache-Control
        value: public, max-age=31536000, immutable

      - path: "*.jpg"
        name: Cache-Control
        value: public, max-age=31536000, immutable

      - path: "*.svg"
        name: Cache-Control
        value: public, max-age=31536000, immutable
